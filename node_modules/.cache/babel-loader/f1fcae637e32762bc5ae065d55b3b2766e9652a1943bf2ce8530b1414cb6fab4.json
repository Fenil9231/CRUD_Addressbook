{"ast":null,"code":"import React from'react';import{Form,Field,FieldArray,Formik}from'formik';import*as Yup from'yup';import{ErrorMessage}from'formik';import\"./user.css\";import Button from'react-bootstrap/Button';// const url=\"https://users-acontext-api.onrender.com/users\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validationSchema=Yup.object().shape({name:Yup.string().required('please enter your name'),email:Yup.string().email('Invalid email format').required('Required'),city:Yup.string().required('Required!'),phoneNumber:Yup.array().of(Yup.string().min(10,'phnNumber must be at least 10 characters').max(11,\"phoneNumber so longer, please enter 10 char\").required('phoneNumber is required'))});var KErrorMessage=function KErrorMessage(_ref){var name=_ref.name;return/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{name:name})});};var UserForm=function UserForm(_ref2){var submit=_ref2.submit,user=_ref2.user;var initialValues;if(user){initialValues={name:user.name,email:user.email,city:user.city,phoneNumber:user.phoneNumber};}else{initialValues={name:'',email:'',city:'',phoneNumber:['']};}var onSubmit=submit;return/*#__PURE__*/_jsx(\"div\",{className:\"user-container\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:onSubmit,validationSchema:validationSchema// Add the validation schema here\n,children:function children(_ref3){var handleChange=_ref3.handleChange,handleSubmit=_ref3.handleSubmit,values=_ref3.values;return/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[user?/*#__PURE__*/_jsx(\"div\",{className:\"fieldContainer\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Id : \",user.id]})}):null,/*#__PURE__*/_jsx(\"h2\",{children:\"User Form\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:values.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(KErrorMessage,{name:\"name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:values.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(KErrorMessage,{name:\"email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",value:values.city,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(KErrorMessage,{name:\"city\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(FieldArray,{name:\"phoneNumber\",children:function children(fieldArrayProps){var push=fieldArrayProps.push,remove=fieldArrayProps.remove,form=fieldArrayProps.form;var values=form.values;var phoneNumber=values.phoneNumber;return/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.map(function(number,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Field,{name:\"phoneNumber[\".concat(index,\"]\")}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",type:\"button\",onClick:function onClick(){if(index>0){remove(index);}},children:\"-\"}),\"\\xA0\",/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"button\",onClick:function onClick(){if(phoneNumber.length<5){push('');}},children:\"+\"})]},index);})});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(KErrorMessage,{name:\"phoneNumber\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]});}})});};export default UserForm;","map":{"version":3,"names":["React","Form","Field","FieldArray","Formik","Yup","ErrorMessage","Button","jsx","_jsx","jsxs","_jsxs","validationSchema","object","shape","name","string","required","email","city","phoneNumber","array","of","min","max","KErrorMessage","_ref","style","color","children","UserForm","_ref2","submit","user","initialValues","onSubmit","className","_ref3","handleChange","handleSubmit","values","id","type","value","onChange","fieldArrayProps","push","remove","form","map","number","index","concat","variant","onClick","length"],"sources":["/home/fenil/git_Repos/CRUD_Addressbook/src/components/UserForm.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Form, Field, FieldArray, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { ErrorMessage } from 'formik';\r\nimport \"./user.css\";\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n\r\n// const url=\"https://users-acontext-api.onrender.com/users\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .required('please enter your name'),\r\n  email: Yup.string()\r\n    .email('Invalid email format')\r\n    .required('Required'),\r\n  city: Yup.string()\r\n    .required('Required!'),\r\n  phoneNumber: Yup.array().of(Yup.string()\r\n     .min(10, 'phnNumber must be at least 10 characters')\r\n    .max(11 , \"phoneNumber so longer, please enter 10 char\")\r\n    .required('phoneNumber is required')),\r\n});\r\n\r\n\r\nconst KErrorMessage = ({ name }) => {\r\n  return (\r\n    <div style={{ color: \"red\" }}>\r\n      <ErrorMessage name={name} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UserForm = ({submit , user}) => {\r\n  let initialValues\r\n  if(user){\r\n     initialValues = {\r\n      name: user.name,\r\n      email: user.email,\r\n      city: user.city,\r\n      phoneNumber: user.phoneNumber,\r\n    };\r\n  } else{\r\n   initialValues = {\r\n    name: '',\r\n    email: '',\r\n    city: '',\r\n    phoneNumber: [''],\r\n  };\r\n  }\r\n  const onSubmit = submit\r\n\r\n  return (\r\n    <div className='user-container'>\r\n    <Formik\r\n      initialValues={initialValues}\r\n      onSubmit={onSubmit}\r\n      validationSchema={validationSchema} // Add the validation schema here\r\n    >\r\n      {({ handleChange, handleSubmit, values }) => (\r\n        <Form onSubmit={handleSubmit}>\r\n          {user ? (\r\n        <div className=\"fieldContainer\">\r\n          <label>Id : {user.id}</label>\r\n        </div>\r\n      ) : null}\r\n          <h2>User Form</h2>\r\n          <label>Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={values.name}\r\n            onChange={handleChange}\r\n          />\r\n          <br />\r\n          <KErrorMessage name=\"name\" />\r\n          <br />\r\n          <label>Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n          />\r\n          <br />\r\n          <KErrorMessage name=\"email\" />\r\n          <br />\r\n          <label>City:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"city\"\r\n            value={values.city}\r\n            onChange={handleChange}\r\n          />\r\n          <br />\r\n          <KErrorMessage name=\"city\" />\r\n          <br />\r\n          <label>Phone Number:</label>\r\n          <FieldArray name=\"phoneNumber\">\r\n            {fieldArrayProps => {\r\n              const { push, remove, form } = fieldArrayProps;\r\n              const { values } = form;\r\n              const { phoneNumber } = values;\r\n              return (\r\n                <div>\r\n                  {phoneNumber.map((number, index) => (\r\n                    <div key={index}>\r\n                      <Field name={`phoneNumber[${index}]`} />\r\n                      <Button variant='danger'\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          if (index > 0) {\r\n                            remove(index);\r\n                          }\r\n                        }}\r\n                      >\r\n                        -\r\n                      </Button>\r\n                      &nbsp;\r\n                      <Button variant='success' type=\"button\" onClick={() => {\r\n                        if(phoneNumber.length < 5){push('')}}}>\r\n                        +\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n\r\n                </div>\r\n              );\r\n            }}\r\n          </FieldArray>\r\n          <br />\r\n          <KErrorMessage name=\"phoneNumber\" />\r\n          <br />\r\n          <Button variant=\"primary\" type=\"submit\" >Submit</Button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}