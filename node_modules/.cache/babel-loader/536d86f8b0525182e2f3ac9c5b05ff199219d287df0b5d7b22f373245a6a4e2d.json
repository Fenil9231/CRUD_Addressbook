{"ast":null,"code":"import _regeneratorRuntime from\"/home/fenil/git_Repos/CRUD_Addressbook/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/fenil/git_Repos/CRUD_Addressbook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/fenil/git_Repos/CRUD_Addressbook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import UserForm from'./UserForm';import{BASEURL}from\"../services/api\";import\"./user.css\";import{Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var EditUser=function EditUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var handleSubmit=function handleSubmit(value,_ref){var resetForm=_ref.resetForm;var comObj={};if(user.name!==value.name){comObj.name=value.name;}if(user.city!==value.city){comObj.city=value.city;}if(user.email!==value.email){comObj.email=value.email;}if(user.phoneNumber.join(\"\")!==value.phoneNumber.join(\"\")){comObj.phoneNumber=value.phoneNumber;}var requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(comObj)};fetch(\"\".concat(BASEURL,\"/users/\").concat(id),requestOptions);resetForm({values:\"\"});setUser({});setId(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit User\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter User Id :\"}),/*#__PURE__*/_jsx(\"input\",{className:\"edittextbox\",type:\"text\",onChange:function onChange(e){setId(e.target.value);},value:id,disabled:user.id?true:null}),/*#__PURE__*/_jsx(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,jsonResponse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(BASEURL,\"/users/\").concat(id));case 2:response=_context.sent;_context.next=5;return response.json();case 5:jsonResponse=_context.sent;setUser(jsonResponse);case 7:case\"end\":return _context.stop();}},_callee);})),disabled:user.id?true:null,children:\"Submit\"}),user.id?/*#__PURE__*/_jsx(\"div\",{className:\"editableform\",children:/*#__PURE__*/_jsx(UserForm,{user:user,submit:handleSubmit})}):null]})});};","map":{"version":3,"names":["useState","UserForm","BASEURL","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditUser","_useState","_useState2","_slicedToArray","id","setId","_useState3","_useState4","user","setUser","handleSubmit","value","_ref","resetForm","comObj","name","city","email","phoneNumber","join","requestOptions","method","headers","body","JSON","stringify","fetch","concat","values","children","className","type","onChange","e","target","disabled","onClick","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","jsonResponse","wrap","_callee$","_context","prev","next","sent","json","stop","submit"],"sources":["/home/fenil/git_Repos/CRUD_Addressbook/src/components/EditUser.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport UserForm from './UserForm';\r\nimport { BASEURL } from \"../services/api\";\r\nimport \"./user.css\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\n\r\nexport const EditUser = () => {\r\n    const [id, setId] = useState(\"\");\r\n    const [user,setUser] = useState({})\r\n\r\n    const handleSubmit = (value,{ resetForm }) => {\r\n      const comObj = {}\r\n      if(user.name !== value.name){\r\n        comObj.name = value.name\r\n      }\r\n      if(user.city !== value.city){\r\n        comObj.city = value.city\r\n      }\r\n      if(user.email !== value.email){\r\n        comObj.email = value.email\r\n      }\r\n      if(user.phoneNumber.join(\"\") !== value.phoneNumber.join(\"\")){\r\n        comObj.phoneNumber = value.phoneNumber\r\n      }\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(comObj)\r\n    \r\n          };\r\n        fetch(`${BASEURL}/users/${id}`, requestOptions)\r\n        resetForm({ values: \"\" })\r\n        setUser({})\r\n        setId(\"\")\r\n    }\r\n\r\n    return (\r\n        <>\r\n    <div className='user-container'>\r\n    <h1>Edit User</h1>\r\n\r\n      <label>Enter User Id :</label>\r\n        \r\n            <input className=\"edittextbox\" type=\"text\" onChange={(e) => {\r\n                setId(e.target.value)\r\n            }} value={id} disabled={user.id ? (\r\n                true\r\n              ) : null} />\r\n            <Button onClick={async () => {\r\n                // console.log(\"-----------\",id)\r\n                const response = await fetch(`${BASEURL}/users/${id}`);\r\n                const jsonResponse = await response.json()\r\n                setUser(jsonResponse)\r\n                \r\n            }} disabled={user.id ? (\r\n                true\r\n              ) : null} >Submit</Button>\r\n           {user.id ? (\r\n        <div className=\"editableform\">\r\n        <UserForm user={user} submit={handleSubmit}/>\r\n      </div>\r\n      ) : null}\r\n      </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}