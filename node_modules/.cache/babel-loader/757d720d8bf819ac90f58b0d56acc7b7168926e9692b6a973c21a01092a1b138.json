{"ast":null,"code":"var _jsxFileName = \"/home/fenil/git_Repos/addrbook/src/components/AddUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport UserForm from './UserForm';\nimport { BASEURL } from \"../services/api\";\nimport { useHistory } from 'react-router-dom';\nimport { TAB_IDS } from \"./Reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AddUser = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false); // Add a loading state\n\n  // Define a function to handle redirection\n  const redirect = () => {\n    history.push(`/${TAB_IDS.VIEW_USER}`);\n  };\n  const handleSubmit = (user, {\n    resetForm\n  }) => {\n    setIsLoading(true); // Start loading\n\n    setTimeout(() => {\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n      };\n      fetch(`${BASEURL}/users`, requestOptions).then(response => {\n        setIsLoading(false); // Stop loading\n        if (response.ok) {\n          // Reset the form after a successful submission\n          resetForm({\n            values: \"\"\n          });\n          // Redirect the user to another route\n          redirect();\n        } else {\n          // Handle errors if the request was not successful\n          console.error('Error:', response.statusText);\n          // You can display an error message to the user or handle it as needed\n        }\n      }).catch(error => {\n        setIsLoading(false); // Stop loading\n        console.error('Network error:', error);\n        // Handle network errors\n        // You can display an error message to the user or handle it as needed\n      });\n    }, 1000); // Delay the fetch for 1000ms\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ?\n    /*#__PURE__*/\n    // Show a loading indicator while loading\n    _jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(UserForm, {\n      submit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(AddUser, \"EmvgwIb3cHpoFpeP+WmEDbjx4y4=\");\n_c = AddUser;\nvar _c;\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"names":["React","useState","UserForm","BASEURL","useHistory","TAB_IDS","jsxDEV","_jsxDEV","AddUser","_s","isLoading","setIsLoading","redirect","history","push","VIEW_USER","handleSubmit","user","resetForm","setTimeout","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","ok","values","console","error","statusText","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","submit","_c","$RefreshReg$"],"sources":["/home/fenil/git_Repos/addrbook/src/components/AddUser.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport UserForm from './UserForm';\r\nimport { BASEURL } from \"../services/api\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { TAB_IDS } from \"./Reducer\";\r\n\r\nexport const AddUser = () => {\r\n  const [isLoading, setIsLoading] = useState(false); // Add a loading state\r\n\r\n  // Define a function to handle redirection\r\n  const redirect = () => {\r\n    history.push(`/${TAB_IDS.VIEW_USER}`);\r\n  }\r\n\r\n  const handleSubmit = (user, { resetForm }) => {\r\n    setIsLoading(true); // Start loading\r\n\r\n    setTimeout(() => {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user),\r\n      };\r\n\r\n      fetch(`${BASEURL}/users`, requestOptions)\r\n        .then(response => {\r\n          setIsLoading(false); // Stop loading\r\n          if (response.ok) {\r\n            // Reset the form after a successful submission\r\n            resetForm({ values: \"\" });\r\n            // Redirect the user to another route\r\n            redirect();\r\n          } else {\r\n            // Handle errors if the request was not successful\r\n            console.error('Error:', response.statusText);\r\n            // You can display an error message to the user or handle it as needed\r\n          }\r\n        })\r\n        .catch(error => {\r\n          setIsLoading(false); // Stop loading\r\n          console.error('Network error:', error);\r\n          // Handle network errors\r\n          // You can display an error message to the user or handle it as needed\r\n        });\r\n    }, 1000); // Delay the fetch for 1000ms\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        // Show a loading indicator while loading\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <UserForm submit={handleSubmit} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,OAAO,QAAQ,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAEnD;EACA,MAAMW,QAAQ,GAAGA,CAAA,KAAM;IACrBC,OAAO,CAACC,IAAI,CAAE,IAAGT,OAAO,CAACU,SAAU,EAAC,CAAC;EACvC,CAAC;EAED,MAAMC,YAAY,GAAGA,CAACC,IAAI,EAAE;IAAEC;EAAU,CAAC,KAAK;IAC5CP,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;;IAEpBQ,UAAU,CAAC,MAAM;MACf,MAAMC,cAAc,GAAG;QACrBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;MAC3B,CAAC;MAEDS,KAAK,CAAE,GAAEvB,OAAQ,QAAO,EAAEiB,cAAc,CAAC,CACtCO,IAAI,CAACC,QAAQ,IAAI;QAChBjB,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;QACrB,IAAIiB,QAAQ,CAACC,EAAE,EAAE;UACf;UACAX,SAAS,CAAC;YAAEY,MAAM,EAAE;UAAG,CAAC,CAAC;UACzB;UACAlB,QAAQ,CAAC,CAAC;QACZ,CAAC,MAAM;UACL;UACAmB,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEJ,QAAQ,CAACK,UAAU,CAAC;UAC5C;QACF;MACF,CAAC,CAAC,CACDC,KAAK,CAACF,KAAK,IAAI;QACdrB,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;QACrBoB,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;QACtC;QACA;MACF,CAAC,CAAC;IACN,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;EACZ,CAAC;;EAED,oBACEzB,OAAA;IAAA4B,QAAA,EACGzB,SAAS;IAAA;IACR;IACAH,OAAA;MAAA4B,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,gBAErBhC,OAAA,CAACL,QAAQ;MAACsC,MAAM,EAAExB;IAAa;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAClC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAA9B,EAAA,CAnDYD,OAAO;AAAAiC,EAAA,GAAPjC,OAAO;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}